- name: Shell module
  hosts: all
  tasks:
    - name: task1
      ansible.builtin.shell: uptime
      register: OUT  # register captures the output command and preserers in variable name of out choice
      
    - name: task2
      ansible.builtin.debug:
        msg: "{{OUT.stdout}}"

    - name: task2
      ansible.builtin.setfact:
        STATUS: "{{OUT.rc}}"

    - name: Printing exit code
      ansible.builtin.debug:
        msg: "{{STATUS}}"